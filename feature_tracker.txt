                      
                        *------------------------*
                        | Skeletris Planning Doc |
                        *------------------------*
                      
[P1 bugs]
 - songs don't cleanly loop anymore


[P2 bugs]
 - when inventory rebuilds, sometimes artifacts appear on the screen for a frame
    - probably a graphics card issue honestly
        - this is pretty wishful thinking lol, should test on other systems
 - if you have temporary speed boost that's about to expire, enemies with z's can act after you move
    - need to math a little harder here (or just leave it...)
 - enemies double attack when you die (ranged enemies only?)
 - possible to get window into an un-resizeable state after disabling fullscreen
    - (potentially linux only - goes back to normal when you toggle fullscreen again) 
        - haven't seen this in a while.. maybe fixed?
 - tutorial text can become faded. looks like a render order issue
 
 
[testing]
 - make sure that statuses 'apply' the correct number of times
 - need to test song starting / stopping / fading thoroughly, there's serious potential for deadlocks in there
 - test window resizing / fullscreen on windows
 - test anything on mac (where can i find a mac?)


[balance issues]    
 - spider boss should do something
    - well now there's two
 - robo boss should do something
    - he big. he tuff. maybe that's enough
 
 
[current features]
 - add misc dialog + flavor
 - song for swamps
 - song for city
 - song for core
 - finalize spider boss fight
 - finalize robo boss fight 
 - finalize nameless boss fight
 
 - "!" bubble over NPC's heads if they have story dialog for you 

 - figure out how to make windows builds
 - figure out whether it's even possible to make/distribute mac builds
    - no opengl? no app notarizaiton w/out developer account? looking grim...
 
 
[what's stressing me out?]
 - won't ever finish
    - potentially true. it's up to you
 - "it took you X years to make this?"
    - it's hard to predict reception. don't let it paralyze you.
 - new players will struggle and quit
    - you'll playtest the tutorial system before release, and you might be 
        surprised at how well players can figure this stuff out.
 - boss fights aren't very interesting
    - you weren't even supposed to *have* those in the first place, remember? 
        just having them at all is more interesting than not, and they don't 
        necessarily need to play a huge role in the game to be memorable.
    - also they're actually better than they seem
        - frog boss tests the player's ability to sidestep attacks
        - robot boss tests player's ability to use CC
 - none of it's very interesting
    - done is better than interesting
    
 
[architecture]
    - entities should keep a reference to the world they're in
        - instead of passing the world into literally every method
    
    
[content design philosophy]
    - if you can't make it in two tries, cut it
    - done is better than good
    - but if it's bad delete it
    
        
[future features]
 - traps / ground effects
 - enemies picking up items (intelligence >= 4)
    - we'd want an "arms up" sprite for eligible enemies I think
 - holding the up/down key in menus should continue scrolling
    - careful, the hold-down behavior on keys differs between OSes
 - projectiles should get a color based on the item/status or something
 - tiles that alter movement
    - jump / teleport tiles
        - an interesting way to get away from enemies, assuming they don't follow you
        - could use "ReturnExitEntity" sprites for this
            - although tests have shown people are afraid of it..
    - ice tiles
        - these would be interesting to try to generate
        - enemy pathing on these would be a bit tricky / interesting
    - water tiles (hurt you when you fall in)
        - only meaningful if knockback is a thing
    - one-way tiles
        - (not sure what these would be good for, honestly)
 - backstab attack 
    - jump over target, attack from other side (if possible)
 - new (secondary) item stats
    - poison duration
    - confusion duration
 - quest system
 - some indicator that enemies are still acting
 - permanent effects (aka curses)
 - doors that can only be unlocked with "keys"
 - varying scenery
    - bridges over deep pits, water pits
 - make enemies move at the same time as you...?
    - maybe there's a reason why all other roguelikes do this...
    - this will actually require a lot of work.
    

[rejected future features]
 - consider allowing two weapons to be equipped at maximum
    - there currently is almost no reason to have more than 1, let alone two
    - this would allow for a simpler UI
        - you'd have an active / offhand weapon, and a button to swap
    - would allow weapons to have global stats (not currently possible because 
      it'd become more efficient to stack small weapons instead of cubes)
    - would need to elegantly "fail to equip" somehow


[~dream features~]
 - farming
    - if you can dream it you can meme it
 
 
[P3 bugs]
    - when you pop a dialog, player keeps current animation (most noticeable if walking)
    - offscreen light sources that are somewhat nearby will make offscreen enemies act non-instantly
        - for now, let's just not have any enemies that emit light by default
    - HP on kill doesn't trigger when you kill an enemy with poison
        - I think this makes the game better. leave it.
    - as frog boss is leaping diagonally, it'll activate player's attack targeting squares
        
[playtesting notes]

 - coffee shop guy (nervous dog) (7/21/19)
    situation: stranger, asked what i was working on, i offered to let him playtest
    - 45 minutes, made it through 2 levels
    - thought flashing red dagger meant it would break soon
    - couldn't figure out how to pick up items (mouse)
    - couldn't figure out how how to open inventory
    - couldn't figure out how how to rotate items
    - avoided ReturnExitEntity, thought it was fire and would kill him
        - correct behavior, but incorrect reasoning. probably fine?
    - put dagger into inventory instead of equipment grid
    - but figured out how to use the dagger from hotbar without help (pressed 1)
    - lot of awkward hand alternating with controls
    - compulsively picking up, equipping items
        - swapping an rearranging items even when their stats were the same
        - judging items based on color, rather than stats? 
            - thought a yellow item affected speed.
        - eventually became seemingly annoyed whenever an item would drop, would check phone, look away, etc
        - filled up entire inventory with garbage items
    - thought vitality was different from HP
    - seemed bored, playing to pass the time and be polite
        - obv not a fan of the genre, but concerning nonetheless
    - story seemed to amuse him at first, bore him as time went on
    - said art was good, but "programming seems basic"
        - not sure what this means, hurt though lol
    - didn't understand why he couldn't pick up items two squares away
    
    takeaways: 
        - ~early game is slow, easy, confusing, and boring~
        - way too many chests
        - need in-game tutorial
        - shift click to auto-pickup items
        - better indicator when item is too far away to be picked up
        - needs to be possible to die in early levels
        - early levels potentially should be a lot smaller?
        - might want to prevent "ATT" items from being pure yellow
        
 - jeff (home) (8/25/19)
    situation: friend, invited him to playtest
        - 35 minutes, played four games, died at caves 2 or 3 each time
        - most early tutorials in place, game was untuned, pretty hard
    good:
        - equipment and rotation tutorials worked!
        - used item tooltips to decide what to replace when equip space ran out
    neutral:
        - scared of enemies at first, wouldn't fight anything
        - used mouse + inventory hotbar button to open inventory thereafter
    bad:
        - pressed arrow keys before "[WASD]" message appeared, used them throughout
        - had to instruct how to use potions (tried dragging it onto player)
            - didn't really get to see tutorial text because it was on mouse while trying to use it.
        - often tried moving items via drag-n-drop instead of click-move-click
        - rapidly mashed movement keys while fighting, didn't seem to grasp concept of turn-basedness
            - kept doing it after i explained why it wasn't necessary, kept doing it anyways
            - perhaps more of a mental tic in response to stress
        - ran past enemies even whenever possible, causing him to recieve no potions and die in later levels
        - didn't realize you could attack enemies by running into them
        - struggled to equip dagger
            - tried dragging it onto player
            - tried right-clicking it in inventory
            - confused about what "Throwable" meant
            - had to instruct how to select it (there's no in-game explanation for this currently)
        - noticed Zzz's on enemies, but didn't understand what it meant or how to take advantage
            - even after explanation and demonstration, couldn't (immediately~) start fighting slow enemies safely 
        - never tried hovering over enemies to see stats
        
    takeaways:
        - need to streamline the way weapons are equipped. 
            - it should *just work* when you put a weapon into the equipment grid
            - only two attacks available, and a maximum of two weapons equipped
        - there should be a way to recover life at the end of a level
        - drag-n-drop should work
        - disable arrow keys as default controls, it just screws people up
        - need some non-enemy challenges in early levels, to introduce the movement and turn system
        - clicking a potion onto yourself should probably just use it~
        - clicking an equipment onto yourself should equip it if possible
        

[game name]

    [CAN'T USE] Cubelike 
        - blend of roguelike and "cube" (?)
        - been using this as the name since the beginning
        - don't really want to use word "Cube" because it's awkward to say/hard to hear
            - "it's called kyubelike"
            - what?
            - "it's cube-like, like roguelike, if you pronounce it wrong"
    
    Skeletris
        - pros:
            - sounds cool
            - available
            - this can also be the name of the city in which the game takes place
        - cons:
            - similar to "Dungetris" which is an existing indie tetris-roguelike fusion
                - games are totally different though, probably fine to use
            - says basically nothing about the game except "there are skeletons + tetris"
            - there are like four ppl using this name on social media accounts
                - sorry kids, it's mine now
    
    Slap Monsters, Find Loot
        - cute, memorable, 2nd half needs work
        - hate the word "loot"
        - SMFL = "ess em eff ell" sucks
        
    Slap Monster, Get Treasure
        - pros:
            - SMGT = "ess em gee tee", pretty good, acronym available
            - sounds like lgbt
            - describes all important parts of the game
        - cons:
            - ambiguously necessary comma
            - ambiguously necessary "s" after Monster
            - it's too stupid
            - one day later, i hate it
            
    [CAN'T USE] Tomb of the Mushroom King
        - cons:
            - identical to "Crypt of the Fungal Lord", which exists
            - similar to "Curse of the Mushroom King", which exists
            
            

 
 - figure out how to (efficiently) make windows builds
