                      
                        *------------------------*
                        | Skeletris Planning Doc |
                        *------------------------*
                      
[P1 bugs]
 - OS issues:
    - lots of issues with full-screen on Windows (on dk's jank-ass machine anyways)
    - gotta setup my windows machine to test, need to handle resolution scaling issues
    - near-zero mac testing (mac friends on git say it's ok though...)


[P2 bugs]
 - when inventory rebuilds, sometimes artifacts appear on the screen for a frame
    - probably a graphics card issue honestly
        - this is pretty wishful thinking lol, should test on other systems
 - if you have temporary speed boost that's about to expire, enemies with z's can act after you move
    - need to math a little harder here (or just leave it...)
 - it's possible for mapped-item-actions to display their items with the wrong rotation
    - it's probably storing an old ref to the item with a different rotation
 - enemy tooltips don't update when they get a new 'ability' (like regeneration from a potion)
 - enemies double attack when you die (ranged enemies only?)
 - can interact with things from above (looks weird if they're hidden)
 - possible to get window into an un-resizeable state after disabling fullscreen
    - (potentially linux only - goes back to normal when you toggle fullscreen again) 
 - enemy kill count isn't hooked up


[balance issues]
 - need more sources of healing
    - added HP on kill stat, maybe enough?
 - vit is super underpowered compared to att/def (potentially fine)
 - need some ways to defensively use/alter the world's geometry
    - "need" ?
 
 
[what's stressing me out?]
 - won't ever finish
    - potentially true. it's up to you
 - "it took you X months to make this?"
    - it's hard to predict reception. don't let it paralyze you.
 - won't be able to fix screen resolution scaling issues
    - *this* is the problem you give up on?
 - new players will struggle and quit
    - you'll playtest the tutorial system before release, and you might be 
        surprised at how well players can figure this stuff out.
 - boss fights aren't very interesting
    - you weren't even supposed to *have* those in the first place, remember? 
        just having them at all is more interesting than not, and they don't 
        necessarily need to play a huge role in the game to be memorable.
 
 
[current features]
 - need some handling for different resolutions
    - tried once, failed. see awful_resize_diff.txt (on desktop)
 - enemies consuming / throwing items (intelligence >= 5)
 - end-of-game boss
    - dialog only? i'm fine with this, cliffhanger for the "demo"
    - it's been like 6 months, and you haven't figured out how to implement this
        as a fight. Let's have the boss say some lines, and 
 - need way to add/remove bindings to each keybinding
 - new (secondary) item stats
    - poison duration
    - confusion duration
 - help panel
    - even necessary? yes
        - will people even find it? looks unlikely based on testing
            - CUT IT
 - need some kind of tutorial system
    - will have hover text pop up when certain actions become available
 - limit equipped weapons to 2
    
 
[architecture]
    - entities should keep a reference to the world they're in
        - instead of passing the world into literally every method
    - global state should have a reference to the active world that menus / ui can use
    
    
[design philosophy]
    - if it doesn't fit, cut it
    - if you can't draw it in two tries, cut it
    - everything in the game should add something unique 
        - "don't have two goombas"
        
        
[future features]
 - traps / ground effects
 - enemies picking up items (intelligence >= 4)
    - we'd want an "arms up" sprite for eligible enemies I think
 - holding the up/down key in menus should continue scrolling
 - projectiles should get a color based on the item/status or something
 - tiles that alter movement
    - jump / teleport tiles
        - an interesting way to get away from enemies, assuming they don't follow you
        - could use "ReturnExitEntity" sprites for this
    - ice tiles
        - these would be interesting to try to generate
        - enemy pathing on these would be a bit tricky / interesting
    - water tiles (hurt you when you fall in)
        - only meaningful if knockback is a thing
    - one-way tiles
        - (not sure what these would be good for, honestly)
 - backstab attack 
    - jump over target, attack from other side (if possible)
 - quest system
 - some indicator that enemies are still acting
 - permanent effects (aka curses)
 - doors that can only be unlocked with "keys"
 - visual effect when confusion triggers
 - varying scenery
    - bridges over deep pits, water pits
 - consider allowing two weapons to be equipped at maximum
    - there currently is almost no reason to have more than 1, let alone two
    - this would allow for a simpler UI
        - you'd have an active / offhand weapon, and a button to swap
    - would allow weapons to have global stats (not currently possible because 
      it'd become more efficient to stack small weapons instead of cubes)
    - would need to elegantly "fail to equip" somehow
 
 
[~dream features~]
 - farming
    - if you can dream it you can meme it
 
 
[P3 bugs]
    - when you pop a dialog, player keeps current animation (most noticeable if walking)
    - offscreen light sources that are somewhat nearby will make offscreen enemies act non-instantly
        - for now, let's just not have any enemies that emit light by default
        
[playtesting notes]

 - coffee shop guy (nervous dog) (7/21/19)
    situation: asked what i was working on, i offered to let him playtest
    - 45 minutes, made it through 2 levels
    - thought flashing red dagger meant it would break soon
    - couldn't figure out how to pick up items (mouse)
    - couldn't figure out how how to open inventory
    - couldn't figure out how how to rotate items
    - avoided ReturnExitEntity, thought it was fire and would kill him
        - correct behavior, but incorrect reasoning. probably fine?
    - put dagger into inventory instead of equipment grid
    - but figured out how to use the dagger from hotbar without help (pressed 1)
    - lot of awkward hand alternating with controls
    - compulsively picking up, equipping items
        - swapping an rearranging items even when their stats were the same
        - judging items based on color, rather than stats? 
            - thought a yellow item affected speed.
        - eventually became seemingly annoyed whenever an item would drop, would check phone, look away, etc
        - filled up entire inventory with garbage items
    - thought vitality was different from HP
    - seemed bored, playing to pass the time and be polite
        - obv not a fan of the genre, but concerning nonetheless
    - story seemed to amuse him at first, bore him as time went on
    - said art was good, but "programming seems basic"
        - not sure what this means, hurt though lol
    - didn't understand why he couldn't pick up items two squares away
    
    takeaways: 
        - ~early game is slow, easy, confusing, and boring~
        - way too many chests
        - need in-game tutorial
        - shift click to auto-pickup items
        - better indicator when item is too far away to be picked up
        - needs to be possible to die in early levels
        - early levels potentially should be a lot smaller?
        - might want to prevent "ATT" items from being pure yellow
        

[game name]

    [CAN'T USE] Cubelike 
        - blend of roguelike and "cube" (?)
        - been using this as the name since the begining
        - don't really want to use word "Cube" because it's awkward to say/hard to hear
            - "it's called kyubelike"
            - what?
            - "it's cube-like, like roguelike, if you pronounce it wrong"
    
    Skeletris
        - pros:
            - sounds cool
            - available
            - this can also be the name of the city in which the game takes place
        - cons:
            - similar to "Dungetris" which is an existing indie tetris-roguelike fusion
                - games are totally different though, probably fine to use
            - says basically nothing about the game except "there are skeletons + tetris"
            - there are like four ppl using this name on social media accounts
                - sorry kids, it's mine now
    
    Slap Monsters, Find Loot
        - cute, memorable, 2nd half needs work
        - hate the word "loot"
        - SMFL = "ess em eff ell" sucks
        
    Slap Monster, Get Treasure
        - pros:
            - SMGT = "ess em gee tee", pretty good, acronym available
            - sounds like lgbt
            - describes all important parts of the game
        - cons:
            - ambiguously necessary comma
            - ambiguously necessary "s" after Monster
            - it's too stupid
            - one day later, i hate it
            
    [CAN'T USE] Tomb of the Mushroom King
        - cons:
            - identical to "Crypt of the Fungal Lord", which exists
            - similar to "Curse of the Mushroom King", which exists

